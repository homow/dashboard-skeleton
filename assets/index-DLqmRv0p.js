import{j as e,r as a}from"./react-core-CgDxZGm3.js";import{B as L}from"./Button-tRVD4TF0.js";import{c as p}from"./ui-utils-DZVGwwmd.js";import{A as M}from"./AlertModal-CJ8J5gLP.js";import{u as R}from"./index-C4TuAmju.js";import"./vendor-7OC5HNn7.js";import"./utils-BJeS7sC5.js";const B=()=>e.jsx("span",{className:"inline-block max-h-5 text-xl text-rose-600",children:"*"}),F=({cls:t,msg:s=""})=>s?e.jsx("p",{className:p("mt-2 font-medium text-sm text-rose-600 dark:text-rose-500",t),children:s}):null;function v({onChange:t,name:s,type:o=s,id:i=s,label:n,autoComplete:m,value:c,placeholder:w,req:h,className:b,parentClassName:j,children:f,hasError:d,errorMsg:u=d,...r}){return e.jsxs("div",{children:[e.jsxs("div",{className:p(j),children:[e.jsxs("label",{htmlFor:i,className:"flex flex-row gap-1 text-sm",children:[n," ",h&&e.jsx(B,{})]}),e.jsx("input",{...r,...o!=="file"&&{value:c??""},onChange:t,id:i,name:s,type:o,autoComplete:m,placeholder:w,className:p("mt-1 block bg-primary-bg/40 w-full rounded-lg border border-gray-300 px-4 py-2 placeholder-secondary-txt focus:border-sky-500 focus:ring-1 focus:ring-sky-500 outline-none transition",b,d&&"border-rose-600 bg-rose-600/10")}),f]}),d&&e.jsx(F,{msg:u})]})}function H({id:t="checkbox",label:s="انتخاب کن",checked:o,onChange:i,className:n}){return e.jsxs("label",{htmlFor:t,className:p("flex items-center gap-2 cursor-pointer text-sm",n),children:[e.jsx("input",{id:t,name:t,type:"checkbox",checked:o,onChange:m=>i(m.target.checked),className:"w-4 h-4 rounded border-2 border-gray-400 appearance-none checked:bg-sky-500 checked:border-sky-600 cursor-pointer"}),e.jsx("span",{children:s})]})}function q(){const[t,s]=a.useState(!1),[o,i]=a.useState(!1),[n,m]=a.useState(""),[c,w]=a.useState(""),[h,b]=a.useState(!1),[j,f]=a.useState({type:"error",message:""}),[d,u]=a.useState(!1),[r,x]=a.useState({email:"",password:""}),k=a.useRef(null),{setAuthInfo:E}=R(),y=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;a.useEffect(()=>{document.title="login to Dashboard | Skeleton",k?.current?.focus()},[]);const S=async l=>{l.preventDefault(),s(!0);const N=n.trim().toLowerCase(),D=c.trim(),g={email:N?"":"Enter Email",password:D?"":"Enter Password"};if(g.email||g.password){s(!1),x(g);return}if(!y.test(N)){s(!1),x({...g,email:"Email format is wrong"});return}const I={email:n.trim().toLowerCase(),password:c.trim(),remember:h};console.log(I),f({type:"success",message:"Login successfully."}),u(!0),setTimeout(()=>{E({token:!0,userData:{id:"1",role:"admin",display_name:"john",email:"john@exmple.com"}}),s(!1),u(!1)},5e3)},A=l=>{m(l.target.value),y.test(l.target.value)&&r.email?x({...r,email:""}):y.test(l.target.value)||x({...r,email:"Email format is wrong"})},C=l=>{w(l.target.value),l.target.value&&r.password&&x({...r,password:""})},P=()=>e.jsx("button",{type:"button",onClick:()=>i(!o),"aria-label":o?"Hide Password":"Show Password",className:"absolute right-2 top-1/2 text-sm text-gray-500 hover:text-sky-500 cursor-pointer",children:o?"hidden":"show"});return e.jsxs(e.Fragment,{children:[e.jsx(M,{...j,isOpen:d,setIsOpen:u,setData:f}),e.jsx("section",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"max-w-9/10 w-full xs:max-w-sm sm:max-w-md bg-white/10 rounded-2xl shadow-lg space-y-6 p-3 xs:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center",children:"Welcome"}),e.jsx("p",{className:"text-sm text-center text-secondary-txt",children:"Login to Dashboard"}),e.jsxs("form",{className:"space-y-6",onSubmit:S,children:[e.jsx("div",{children:e.jsx(v,{type:"text",id:"email",value:n,name:"email",ref:k,label:"email",autoComplete:"email",onChange:A,placeholder:"you@example.com",hasError:r.email})}),e.jsx("div",{children:e.jsx(v,{id:"password",label:"password",value:c,name:"password",placeholder:"******",parentClassName:"relative",onChange:C,children:e.jsx(P,{}),type:o?"text":"password",className:p("text-sm xs:text-base",r.password&&"border-rose-600 bg-rose-600/10"),hasError:r.password})}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-400",children:e.jsx(H,{id:"remember",checked:h,onChange:b,label:"remember me"})}),e.jsx(L,{type:"submit",text:t?"loading":"login",disabled:t})]})]})})]})}export{q as default};
