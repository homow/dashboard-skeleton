import{j as e,r}from"./react-core-CgDxZGm3.js";import{B as L}from"./Button-tRVD4TF0.js";import{c as x}from"./ui-utils-DZVGwwmd.js";import{A as M}from"./AlertModal-CJ8J5gLP.js";import{u as R}from"./index-B13BUVXS.js";import"./vendor-7OC5HNn7.js";import"./utils-BJeS7sC5.js";const B=()=>e.jsx("span",{className:"inline-block max-h-5 text-xl text-rose-600",children:"*"}),F=({cls:t,msg:s=""})=>s?e.jsx("p",{className:x("mt-2 font-medium text-sm text-rose-600 dark:text-rose-500",t),children:s}):null;function v({onChange:t,name:s,type:a=s,id:i=s,label:l,autoComplete:c,value:m,placeholder:w,req:p,className:b,parentClassName:j,children:h,hasError:d,errorMsg:u=d,...o}){return e.jsxs("div",{children:[e.jsxs("div",{className:x(j),children:[e.jsxs("label",{htmlFor:i,className:"flex flex-row gap-1 text-sm",children:[l," ",p&&e.jsx(B,{})]}),e.jsx("input",{...o,...a!=="file"&&{value:m??""},onChange:t,id:i,name:s,type:a,autoComplete:c,placeholder:w,className:x("mt-1 block bg-primary-bg/40 w-full rounded-lg border border-gray-300 px-4 py-2 placeholder-secondary-txt focus:border-sky-500 focus:ring-1 focus:ring-sky-500 outline-none transition",b,d&&"border-rose-600 bg-rose-600/10")}),h]}),d&&e.jsx(F,{msg:u})]})}function H({id:t="checkbox",label:s="انتخاب کن",checked:a,onChange:i,className:l}){return e.jsxs("label",{htmlFor:t,className:x("flex items-center gap-2 cursor-pointer text-sm",l),children:[e.jsx("input",{id:t,name:t,type:"checkbox",checked:a,onChange:c=>i(c.target.checked),className:"w-4 h-4 rounded border-2 border-gray-400 appearance-none checked:bg-sky-500 checked:border-sky-600 cursor-pointer"}),e.jsx("span",{children:s})]})}function q(){const[t,s]=r.useState(!1),[a,i]=r.useState(!1),[l,c]=r.useState(""),[m,w]=r.useState(""),[p,b]=r.useState(!1),[j,h]=r.useState({type:"error",message:""}),[d,u]=r.useState(!1),[o,f]=r.useState({email:"",password:""}),y=r.useRef(null),{setAuthInfo:S}=R(),k=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;r.useEffect(()=>{document.title="login to Dashboard | Skeleton",y?.current?.focus()},[]);const E=async n=>{n.preventDefault(),s(!0);const N=l.trim().toLowerCase(),D=m.trim(),g={email:N?"":"Enter Email",password:D?"":"Enter Password"};if(g.email||g.password){s(!1),f(g);return}if(!k.test(N)){s(!1),f({...g,email:"Email format is wrong"});return}const I={email:l.trim().toLowerCase(),password:m.trim(),remember:p};console.log(I),h({type:"success",message:"Login successfully."}),u(!0),setTimeout(()=>{S({token:!0,userData:{id:"1",role:"admin",display_name:"john",email:"john@exmple.com"}}),s(!1),u(!1)},5e3)},A=n=>{c(n.target.value),k.test(n.target.value.trim())&&o.email&&f({...o,email:""})},C=n=>{w(n.target.value),n.target.value&&o.password&&f({...o,password:""})},P=()=>e.jsx("button",{type:"button",onClick:()=>i(!a),"aria-label":a?"Hide Password":"Show Password",className:"absolute right-2 top-1/2 text-sm text-gray-500 hover:text-sky-500 cursor-pointer",children:a?"hidden":"show"});return e.jsxs(e.Fragment,{children:[e.jsx(M,{...j,isOpen:d,setIsOpen:u,setData:h}),e.jsx("section",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"max-w-9/10 w-full xs:max-w-sm sm:max-w-md bg-white/10 rounded-2xl shadow-lg space-y-6 p-3 xs:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center",children:"Welcome"}),e.jsx("p",{className:"text-sm text-center text-secondary-txt",children:"Login to Dashboard"}),e.jsxs("form",{className:"space-y-6",onSubmit:E,children:[e.jsx("div",{children:e.jsx(v,{type:"text",id:"email",value:l,name:"email",ref:y,label:"email",autoComplete:"email",onChange:A,placeholder:"you@example.com",hasError:o.email})}),e.jsx("div",{children:e.jsx(v,{id:"password",label:"password",value:m,name:"password",placeholder:"******",parentClassName:"relative",onChange:C,children:e.jsx(P,{}),type:a?"text":"password",className:x("text-sm xs:text-base",o.password&&"border-rose-600 bg-rose-600/10"),hasError:o.password})}),e.jsx("div",{className:"flex items-center justify-between text-sm text-gray-400",children:e.jsx(H,{id:"remember",checked:p,onChange:b,label:"remember me"})}),e.jsx(L,{type:"submit",text:t?"loading":"login",disabled:t})]})]})})]})}export{q as default};
