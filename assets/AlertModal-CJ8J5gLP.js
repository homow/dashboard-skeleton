import{r as o,j as a}from"./react-core-CgDxZGm3.js";import{c as l}from"./ui-utils-DZVGwwmd.js";function j(e){return{error:"text-rose-500",success:"text-emerald-500",warning:"text-amber-500",info:"text-sky-500"}[e]||"text-gray-500 dark:text-gray-300"}function p(e){return{error:"bg-rose-500 hover:bg-rose-600",success:"bg-emerald-500 hover:bg-emerald-600",warning:"bg-amber-500 hover:bg-amber-600",info:"bg-sky-500 hover:bg-sky-600"}[e]||"bg-gray-500 hover:bg-gray-600"}function B(e){return{error:"Error",success:"Success",warning:"Warning",info:"info"}[e]||"Message"}function E(e){return{error:"bg-rose-500",success:"bg-emerald-500",warning:"bg-amber-500",info:"bg-sky-500"}[e]||"bg-gray-500"}function F({message:e,type:r,isOpen:t=!1,setIsOpen:n,setData:c,closeDelay:f=5e3}){const[b,g]=o.useState(100),m=o.useRef(null),h=j(r),w=p(r),y=B(r),v=E(r);return o.useEffect(()=>{t&&m.current&&m.current.focus();const s=i=>{i.key==="Escape"&&n(!1)};return t&&window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[t,n]),o.useEffect(()=>{if(!t)return;let s,i;const d=u=>{s||(s=u);const k=u-s,x=Math.min(k/f,1);g(100-x*100),x<1?i=requestAnimationFrame(d):(n(!1),c&&c({type:null,message:""}))};if(t)g(100),i=requestAnimationFrame(d);else return;return()=>{cancelAnimationFrame(i)}},[t,f,n,c]),t?a.jsx("div",{className:l("max-w-70 text-sm fixed top-0 left-0 w-full flex items-center overflow-hidden justify-center shadow-2xl z-30 xs:max-w-xs sm:text-base sm:max-w-sm",t?"block":"hidden"),role:"alertdialog","aria-live":"assertive","aria-modal":!0,"aria-labelledby":"alert-title","aria-describedby":"alert-desc",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-xl w-full space-y-2 pt-3",children:[a.jsx("h3",{className:l("px-3 text-lg font-semibold",h),children:y}),a.jsx("p",{className:"max-w-max text-gray-700 px-3 dark:text-gray-300","aria-live":"assertive",children:e}),a.jsx("div",{className:"flex justify-end px-3",children:a.jsx("button",{ref:m,onClick:()=>n(!1),className:l("cursor-pointer px-3 py-1 text-white transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black focus:ring-offset-white hover:brightness-110",w),children:"close"})}),a.jsx("div",{dir:"ltr",className:"mt-3",children:a.jsx("div",{style:{width:`${b}%`,transformOrigin:"left"},className:l("h-2",v)})})]})}):null}export{F as A};
